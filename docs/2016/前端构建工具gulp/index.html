<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Jiegao">
  
  
  
  <link rel="prev" href="https://hestation.com/2015/automatic-backup/" />
  <link rel="next" href="https://hestation.com/2016/es6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80set%E5%92%8Cmap/" />
  <link rel="canonical" href="https://hestation.com/2016/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7gulp/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           前端构建工具Gulp | Jiegao
       
  </title>
  <meta name="title" content="前端构建工具Gulp | Jiegao">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/hestation.com"
    },
    "articleSection" : "posts",
    "name" : "前端构建工具Gulp",
    "headline" : "前端构建工具Gulp",
    "description" : "第一步：安装Node 首先需要搭建node环境。访问Node.js官网，然后点击大大的绿色的install按钮，下载完成后直接运行程序，就一切准备就绪。npm会随着安装包一起安装，稍后会用到它。\n第二步：使用命令行 查看node版本号\nnode -v  查看npm版本\nnpm -v  第三步：安装gulp NPM是基于命令行的node包管理工具，它可以将node的程序模块安装到项目中，在它的官网中可以查看和搜索所有可用的程序模块。 在命令行中输入\nsudo npm install -g gulp   sudo是以管理员身份执行命令，一般会要求输入电脑密码 npm是安装node模块的工具，执行install命令 -g表示在全局环境安装，以便任何项目都能使用它 最后，gulp是将要安装的node模块的名字  运行时注意查看命令行有没有错误信息，安装完成后，你可以使用下面的命令查看gulp的版本号以确保gulp已经被正确安装。\ngulp -v  接下来，我们需要将gulp安装到项目本地\nnpm install —-save-dev gulp  这里，我们使用*\x26ndash;save-dev*来更新package.json文件，更新*devDependencies*值，以表明项目需要依赖gulp。\nDependencies可以向其他参与项目的人指明项目在开发环境和生产环境中的node模块依懒关系，想要更加深入的了解它可以看看package.json文档。\n第四步：新建Gulpfile文件，运行gulp 安装好gulp后我们需要告诉它要为我们执行哪些任务，首先，我们自己需要弄清楚项目需要哪些任务。\n 检查Javascript 编译Sass（或Less之类的）文件 合并Javascript 压缩并重命名合并后的Javascript  安装依赖 npm install gulp-jshint gulp-sass gulp-concat gulp-uglify gulp-rename --save-dev   提醒下，如果以上命令提示权限错误，需要添加sudo再次尝试。\n 新建gulpfile文件 现在，组件都安装完毕，我们需要新建gulpfile文件以指定gulp需要为我们完成什么任务。\ngulp只有五个方法： *task*，*run*，*watch*，*src*，和*dest*，在项目根目录新建一个js文件并命名为*gulpfile.js*，把下面的代码粘贴进去：\ngulpfile.js \/\/ 引入 gulp var gulp = require(\x27gulp\x27); \/\/ 引入组件 var jshint = require(\x27gulp-jshint\x27); var sass = require(\x27gulp-sass\x27); var concat = require(\x27gulp-concat\x27); var uglify = require(\x27gulp-uglify\x27); var rename = require(\x27gulp-rename\x27); \/\/ 检查脚本 gulp.",
    "inLanguage" : "en-us",
    "author" : "Jiegao",
    "creator" : "Jiegao",
    "publisher": "Jiegao",
    "accountablePerson" : "Jiegao",
    "copyrightHolder" : "Jiegao",
    "copyrightYear" : "2016",
    "datePublished": "2016-03-24 22:32:00 \x2b0000 UTC",
    "dateModified" : "2016-03-24 22:32:00 \x2b0000 UTC",
    "url" : "https:\/\/hestation.com\/2016\/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7gulp\/",
    "wordCount" : "211",
    "keywords" : [ "工具使用","教程","Gulp", "Jiegao"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://hestation.com">Jiegao</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://hestation.com">Jiegao</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">前端构建工具Gulp</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://hestation.com" rel="author">Jiegao</a> with ♥ 
                <span class="post-time">
                on <time datetime=2016-03-24 itemprop="datePublished">March 24, 2016</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://hestation.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"> 学习笔记 </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<h2 id="第一步-安装node">第一步：安装Node</h2>

<p>首先需要搭建node环境。访问<a href="http://nodejs.org" rel="nofollow noreferrer" target="_blank">Node.js官网</a>，然后点击大大的绿色的install按钮，下载完成后直接运行程序，就一切准备就绪。npm会随着安装包一起安装，稍后会用到它。</p>

<h2 id="第二步-使用命令行">第二步：使用命令行</h2>

<p>查看node版本号</p>

<pre><code class="language-bash">node -v
</code></pre>

<p>查看npm版本</p>

<pre><code class="language-bash">npm -v
</code></pre>

<h2 id="第三步-安装gulp">第三步：安装gulp</h2>

<p>NPM是基于命令行的node包管理工具，它可以将node的程序模块安装到项目中，在它的官网中可以查看和搜索所有可用的程序模块。
在命令行中输入</p>

<pre><code class="language-bash">sudo npm install -g gulp
</code></pre>

<ul>
<li>sudo是以管理员身份执行命令，一般会要求输入电脑密码</li>
<li>npm是安装node模块的工具，执行install命令</li>
<li>-g表示在全局环境安装，以便任何项目都能使用它</li>
<li>最后，gulp是将要安装的node模块的名字</li>
</ul>

<p>运行时注意查看命令行有没有错误信息，安装完成后，你可以使用下面的命令查看gulp的版本号以确保gulp已经被正确安装。</p>

<pre><code class="language-bash">gulp -v
</code></pre>

<p>接下来，我们需要将gulp安装到项目本地</p>

<pre><code class="language-bash">npm install —-save-dev gulp
</code></pre>

<p>这里，我们使用*&ndash;save-dev*来更新package.json文件，更新*devDependencies*值，以表明项目需要依赖gulp。</p>

<p>Dependencies可以向其他参与项目的人指明项目在开发环境和生产环境中的node模块依懒关系，想要更加深入的了解它可以看看<a href="https://npmjs.org/doc/json.html#dependencies" rel="nofollow noreferrer" target="_blank">package.json文档</a>。</p>

<h2 id="第四步-新建gulpfile文件-运行gulp">第四步：新建Gulpfile文件，运行gulp</h2>

<p>安装好gulp后我们需要告诉它要为我们执行哪些任务，首先，我们自己需要弄清楚项目需要哪些任务。</p>

<ul>
<li>检查Javascript</li>
<li>编译Sass（或Less之类的）文件</li>
<li>合并Javascript</li>
<li>压缩并重命名合并后的Javascript</li>
</ul>

<h3 id="安装依赖">安装依赖</h3>

<pre><code class="language-bash">npm install gulp-jshint gulp-sass gulp-concat gulp-uglify gulp-rename --save-dev
</code></pre>

<blockquote>
<p>提醒下，如果以上命令提示权限错误，需要添加sudo再次尝试。</p>
</blockquote>

<h3 id="新建gulpfile文件">新建gulpfile文件</h3>

<p>现在，组件都安装完毕，我们需要新建gulpfile文件以指定gulp需要为我们完成什么任务。</p>

<p>gulp只有五个方法： *task*，*run*，*watch*，*src*，和*dest*，在项目根目录新建一个js文件并命名为*gulpfile.js*，把下面的代码粘贴进去：</p>

<h4 id="gulpfile-js">gulpfile.js</h4>

<pre><code class="language-javascript">// 引入 gulp
var gulp = require('gulp');

// 引入组件
var jshint = require('gulp-jshint');
var sass = require('gulp-sass');
var concat = require('gulp-concat');
var uglify = require('gulp-uglify');
var rename = require('gulp-rename');

// 检查脚本
gulp.task('lint', function() {
    gulp.src('./js/*.js')
        .pipe(jshint())
        .pipe(jshint.reporter('default'));
});

// 编译Sass
gulp.task('sass', function() {
    gulp.src('./scss/*.scss')
        .pipe(sass())
        .pipe(gulp.dest('./css'));
});

// 合并，压缩文件
gulp.task('scripts', function() {
    gulp.src('./js/*.js')
        .pipe(concat('all.js'))
        .pipe(gulp.dest('./dist'))
        .pipe(rename('all.min.js'))
        .pipe(uglify())
        .pipe(gulp.dest('./dist'));
});

// 默认任务
gulp.task('default', function(){
    gulp.run('lint', 'sass', 'scripts');

    // 监听文件变化
    gulp.watch('./js/*.js', function(){
        gulp.run('lint', 'sass', 'scripts');
    });
});
</code></pre>

<p>现在，分段解释下这段代码。</p>

<h3 id="引入组件">引入组件</h3>

<pre><code class="language-javascript">var gulp = require('gulp');
var jshint = require('gulp-jshint');
var sass = require('gulp-sass');
var concat = require('gulp-concat');
var uglify = require('gulp-uglify');
var rename = require('gulp-rename');
</code></pre>

<p>这一步，我们引入了核心的gulp和其他依赖组件，接下来，分开创建lint, sass, scripts 和 default这四个不同的任务。</p>

<h3 id="lint任务">Lint任务</h3>

<pre><code class="language-javascript">gulp.task('lint', function() {
    gulp.src('./js/*.js')
        .pipe(jshint())
        .pipe(jshint.reporter('default'));
});
</code></pre>

<p>Link任务会检查js/目录下得js文件有没有报错或警告。</p>

<h3 id="sass任务">Sass任务</h3>

<pre><code class="language-javascript">gulp.task('sass', function() {
    gulp.src('./scss/*.scss')
        .pipe(sass())
        .pipe(gulp.dest('./css'));
});
</code></pre>

<p>Sass任务会编译scss/目录下的scss文件，并把编译完成的css文件保存到/css目录中。</p>

<h3 id="scripts-任务">Scripts 任务</h3>

<pre><code class="language-javascript">gulp.task('scripts', function() {
    gulp.src('./js/*.js')
        .pipe(concat('all.js'))
        .pipe(gulp.dest('./dist'))
        .pipe(rename('all.min.js'))
        .pipe(uglify())
        .pipe(gulp.dest('./dist'));
});
</code></pre>

<p>scripts任务会合并js/目录下得所有得js文件并输出到dist/目录，然后gulp会重命名、压缩合并的文件，也输出到dist/目录。</p>

<h3 id="default任务">default任务</h3>

<pre><code class="language-javascript">gulp.task('default', function(){
    gulp.run('lint', 'sass', 'scripts');
    gulp.watch('./js/*.js', function(){
        gulp.run('lint', 'sass', 'scripts');
    });
});
</code></pre>

<p>这时，我们创建了一个基于其他任务的default任务。使用.run()方法关联和运行我们上面定义的任务，使用.watch()方法去监听指定目录的文件变化，当有文件变化时，会运行回调定义的其他任务。</p>

<p>现在，回到命令行，可以直接运行gulp任务了。</p>

<pre><code class="language-bash">gulp
</code></pre>

<p>这将执行定义的default任务，换言之，这和以下的命令式同一个意思</p>

<pre><code class="language-bash">gulp default
</code></pre>

<p>当然，我们可以运行在*gulpfile.js*中定义的任意任务，比如，现在运行sass任务：</p>

<pre><code class="language-bash">gulp sass
</code></pre>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Jiegao </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://hestation.com/2016/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7gulp/>https://hestation.com/2016/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7gulp/</span>
            </p>
            
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://hestation.com/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/">
                    #工具使用</a></span>
            
            <span class="tag"><a href="https://hestation.com/tags/%E6%95%99%E7%A8%8B/">
                    #教程</a></span>
            
            <span class="tag"><a href="https://hestation.com/tags/gulp/">
                    #Gulp</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://hestation.com">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://hestation.com/2015/automatic-backup/" class="prev" rel="prev" title="自动备份Hexo博客源文件"><i class="iconfont icon-left"></i>&nbsp;自动备份Hexo博客源文件</a>
         
        
        <a href="https://hestation.com/2016/es6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80set%E5%92%8Cmap/" class="next" rel="next" title="ES6学习笔记（一）：Set和Map">ES6学习笔记（一）：Set和Map&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2016 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://hestation.com">Jiegao</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
